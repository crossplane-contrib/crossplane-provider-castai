{"format_version":"1.0","provider_schemas":{"registry.terraform.io/castai/castai":{"provider":{"version":0,"block":{"attributes":{"api_token":{"type":"string","description":"The token used to connect to CAST AI API.","description_kind":"plain","required":true},"api_url":{"type":"string","description":"CAST.AI API url.","description_kind":"plain","optional":true}},"description_kind":"plain"}},"resource_schemas":{"castai_aks_cluster":{"version":0,"block":{"attributes":{"client_id":{"type":"string","description":"Azure AD application ID that is created and used by CAST AI.","description_kind":"plain","required":true},"client_secret":{"type":"string","description":"Azure AD application password that will be used by CAST AI.","description_kind":"plain","required":true,"sensitive":true},"cluster_token":{"type":"string","description":"CAST AI cluster token.","description_kind":"plain","computed":true,"sensitive":true},"credentials_id":{"type":"string","description":"CAST AI internal credentials ID","description_kind":"plain","computed":true},"delete_nodes_on_disconnect":{"type":"bool","description":"Should CAST AI remove nodes managed by CAST.AI on disconnect.","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"name":{"type":"string","description":"AKS cluster name.","description_kind":"plain","required":true},"node_resource_group":{"type":"string","description":"Azure resource group in which nodes are and will be created.","description_kind":"plain","required":true},"region":{"type":"string","description":"AKS cluster region.","description_kind":"plain","required":true},"subscription_id":{"type":"string","description":"ID of the Azure subscription.","description_kind":"plain","required":true},"tenant_id":{"type":"string","description":"Azure AD tenant ID from the used subscription.","description_kind":"plain","required":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"AKS cluster resource allows connecting an existing AKS cluster to CAST AI.","description_kind":"plain"}},"castai_autoscaler":{"version":0,"block":{"attributes":{"autoscaler_policies":{"type":"string","description":"computed value to store full policies configuration","description_kind":"plain","computed":true},"autoscaler_policies_json":{"type":"string","description":"autoscaler policies JSON string to override current autoscaler settings","description_kind":"plain","optional":true},"cluster_id":{"type":"string","description":"CAST AI cluster id","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"CAST AI autoscaler resource to manage autoscaler settings","description_kind":"plain"}},"castai_eks_cluster":{"version":0,"block":{"attributes":{"account_id":{"type":"string","description":"ID of AWS account","description_kind":"plain","required":true},"assume_role_arn":{"type":"string","description":"AWS IAM role ARN that will be assumed by CAST AI user. This role should allow `sts:AssumeRole` action for CAST AI user that can be retrieved using `castai_eks_user_arn` data source","description_kind":"plain","optional":true},"cluster_token":{"type":"string","description":"computed value to store cluster token","description_kind":"plain","computed":true,"sensitive":true},"credentials_id":{"type":"string","description":"CAST AI internal credentials ID","description_kind":"plain","computed":true},"delete_nodes_on_disconnect":{"type":"bool","description":"Should CAST AI remove nodes managed by CAST AI on disconnect","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"name":{"type":"string","description":"name of your EKS cluster","description_kind":"plain","required":true},"region":{"type":"string","description":"AWS region where the cluster is placed","description_kind":"plain","required":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"EKS cluster resource allows connecting an existing EKS cluster to CAST AI.","description_kind":"plain"}},"castai_eks_clusterid":{"version":0,"block":{"attributes":{"account_id":{"type":"string","description_kind":"plain","required":true},"cluster_name":{"type":"string","description_kind":"plain","required":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"region":{"type":"string","description_kind":"plain","required":true}},"description_kind":"plain"}},"castai_eks_user_arn":{"version":0,"block":{"attributes":{"arn":{"type":"string","description_kind":"plain","computed":true},"cluster_id":{"type":"string","description_kind":"plain","required":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true}},"description_kind":"plain"}},"castai_gke_cluster":{"version":0,"block":{"attributes":{"cluster_token":{"type":"string","description":"CAST.AI agent cluster token","description_kind":"plain","computed":true,"sensitive":true},"credentials_id":{"type":"string","description":"CAST AI credentials id for cluster","description_kind":"plain","computed":true},"credentials_json":{"type":"string","description":"GCP credentials.json from ServiceAccount with credentials for CAST AI","description_kind":"plain","optional":true,"sensitive":true},"delete_nodes_on_disconnect":{"type":"bool","description":"Should CAST AI remove nodes managed by CAST.AI on disconnect","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"location":{"type":"string","description":"GCP cluster zone in case of zonal or region in case of regional cluster","description_kind":"plain","required":true},"name":{"type":"string","description":"GKE cluster name","description_kind":"plain","required":true},"project_id":{"type":"string","description":"GCP project id","description_kind":"plain","required":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"GKE cluster resource allows connecting an existing GKE cluster to CAST AI.","description_kind":"plain"}},"castai_node_configuration":{"version":0,"block":{"attributes":{"cluster_id":{"type":"string","description":"CAST AI cluster id","description_kind":"plain","required":true},"container_runtime":{"type":"string","description":"Optional container runtime to be used by kubelet. Applicable for EKS only.  Supported values include: `dockerd`, `containerd`","description_kind":"plain","optional":true},"disk_cpu_ratio":{"type":"number","description":"Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0","description_kind":"plain","optional":true},"docker_config":{"type":"string","description":"Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override. Applicable for EKS only. [Available values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"image":{"type":"string","description":"Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on Kubernetes version if possible ","description_kind":"plain","optional":true},"init_script":{"type":"string","description":"Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded","description_kind":"plain","optional":true},"kubelet_config":{"type":"string","description":"Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)","description_kind":"plain","optional":true},"min_disk_size":{"type":"number","description":"Minimal disk size in GiB. Defaults to 100, min 30, max 1000","description_kind":"plain","optional":true},"name":{"type":"string","description":"Name of the node configuration","description_kind":"plain","required":true},"ssh_public_key":{"type":"string","description":"SSH public key to be used for provisioned nodes","description_kind":"plain","optional":true},"subnets":{"type":["list","string"],"description":"Subnet ids to be used for provisioned nodes","description_kind":"plain","required":true},"tags":{"type":["map","string"],"description":"Tags to be added on cloud instances for provisioned nodes","description_kind":"plain","optional":true}},"block_types":{"aks":{"nesting_mode":"list","block":{"attributes":{"max_pods_per_node":{"type":"number","description":"Maximum number of pods that can be run on a node, which affects how many IP addresses you will need for each node. Defaults to 30","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1},"eks":{"nesting_mode":"list","block":{"attributes":{"dns_cluster_ip":{"type":"string","description":"IP address to use for DNS queries within the cluster","description_kind":"plain","optional":true},"imds_hop_limit":{"type":"number","description":"Allow configure the IMDSv2 hop limit, the default is 2","description_kind":"plain","optional":true},"imds_v1":{"type":"bool","description":"When the value is true both IMDSv1 and IMDSv2 are enabled. Setting the value to false disables permanently IMDSv1 and might affect legacy workloads running on the node created with this configuration. The default is true if the flag isn't provided","description_kind":"plain","optional":true},"instance_profile_arn":{"type":"string","description":"Cluster's instance profile ARN used for CAST provisioned nodes","description_kind":"plain","required":true},"key_pair_id":{"type":"string","description":"AWS key pair ID to be used for CAST provisioned nodes. Has priority over ssh_public_key","description_kind":"plain","optional":true},"security_groups":{"type":["list","string"],"description":"Cluster's security groups configuration for CAST provisioned nodes","description_kind":"plain","required":true},"volume_iops":{"type":"number","description":"AWS EBS volume IOPS to be used for CAST provisioned nodes","description_kind":"plain","optional":true},"volume_throughput":{"type":"number","description":"AWS EBS volume throughput in MiB/s to be used for CAST provisioned nodes","description_kind":"plain","optional":true},"volume_type":{"type":"string","description":"AWS EBS volume type to be used for CAST provisioned nodes. One of: gp3, io1, io2","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1},"gke":{"nesting_mode":"list","block":{"attributes":{"disk_type":{"type":"string","description":"Type of boot disk attached to the node. (See [disk types](https://cloud.google.com/compute/docs/disks#pdspecs)). One of: pd-standard, pd-balanced, pd-ssd, pd-extreme ","description_kind":"plain","optional":true},"max_pods_per_node":{"type":"number","description":"Maximum number of pods that can be run on a node, which affects how many IP addresses you will need for each node. Defaults to 110","description_kind":"plain","optional":true},"network_tags":{"type":["list","string"],"description":"Network tags to be added on a VM. (See [network tags](https://cloud.google.com/vpc/docs/add-remove-network-tags))","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1},"kops":{"nesting_mode":"list","block":{"attributes":{"key_pair_id":{"type":"string","description":"AWS key pair ID to be used for provisioned nodes. Has priority over sshPublicKey","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1},"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"read":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"Create node configuration for given cluster. Node configuration [reference](https://docs.cast.ai/docs/node-configuration)","description_kind":"plain"}},"castai_node_configuration_default":{"version":0,"block":{"attributes":{"cluster_id":{"type":"string","description":"CAST AI cluster id","description_kind":"plain","required":true},"configuration_id":{"type":"string","description":"Id of the node configuration","description_kind":"plain","required":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"read":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description_kind":"plain"}},"castai_node_template":{"version":0,"block":{"attributes":{"cluster_id":{"type":"string","description":"CAST AI cluster id.","description_kind":"plain","optional":true},"configuration_id":{"type":"string","description":"CAST AI node configuration id to be used for node template.","description_kind":"plain","optional":true},"custom_instances_enabled":{"type":"bool","description":"Marks whether custom instances should be used when deciding which parts of inventory are available. Custom instances are only supported in GCP.","description_kind":"plain","optional":true},"custom_labels":{"type":["map","string"],"description":"Custom labels to be added to nodes created from this template. If the field `custom_label` is present, the value of `custom_labels` will be ignored.","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"name":{"type":"string","description":"Name of the node template.","description_kind":"plain","required":true},"rebalancing_config_min_nodes":{"type":"number","description":"Minimum nodes that will be kept when rebalancing nodes using this node template.","description_kind":"plain","optional":true},"should_taint":{"type":"bool","description":"Marks whether the templated nodes will have a taint.","description_kind":"plain","optional":true}},"block_types":{"constraints":{"nesting_mode":"list","block":{"attributes":{"architectures":{"type":["list","string"],"description":"List of acceptable instance CPU architectures, the default is amd64. Allowed values: amd64, arm64.","description_kind":"plain","optional":true,"computed":true},"compute_optimized":{"type":"bool","description":"Compute optimized instance constraint - will only pick compute optimized nodes if true.","description_kind":"plain","optional":true},"fallback_restore_rate_seconds":{"type":"number","description":"Fallback restore rate in seconds: defines how much time should pass before spot fallback should be attempted to be restored to real spot.","description_kind":"plain","optional":true},"max_cpu":{"type":"number","description":"Max CPU cores per node.","description_kind":"plain","optional":true},"max_memory":{"type":"number","description":"Max Memory (Mib) per node.","description_kind":"plain","optional":true},"min_cpu":{"type":"number","description":"Min CPU cores per node.","description_kind":"plain","optional":true},"min_memory":{"type":"number","description":"Min Memory (Mib) per node.","description_kind":"plain","optional":true},"spot":{"type":"bool","description":"Spot instance constraint - true only spot, false only on-demand.","description_kind":"plain","optional":true},"storage_optimized":{"type":"bool","description":"Storage optimized instance constraint - will only pick storage optimized nodes if true","description_kind":"plain","optional":true},"use_spot_fallbacks":{"type":"bool","description":"Spot instance fallback constraint - when true, on-demand instances will be created, when spots are unavailable.","description_kind":"plain","optional":true}},"block_types":{"gpu":{"nesting_mode":"list","block":{"attributes":{"exclude_names":{"type":["list","string"],"description":"Names of the GPUs to exclude.","description_kind":"plain","optional":true},"include_names":{"type":["list","string"],"description":"Instance families to include when filtering (excludes all other families).","description_kind":"plain","optional":true},"manufacturers":{"type":["list","string"],"description":"Manufacturers of the gpus to select - NVIDIA, AMD.","description_kind":"plain","optional":true},"max_count":{"type":"number","description":"Max GPU count for the instance type to have.","description_kind":"plain","optional":true},"min_count":{"type":"number","description":"Min GPU count for the instance type to have.","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1},"instance_families":{"nesting_mode":"list","block":{"attributes":{"exclude":{"type":["list","string"],"description":"Instance families to include when filtering (excludes all other families).","description_kind":"plain","optional":true},"include":{"type":["list","string"],"description":"Instance families to exclude when filtering (includes all other families).","description_kind":"plain","optional":true}},"description_kind":"plain"},"max_items":1}},"description_kind":"plain"},"max_items":1},"custom_label":{"nesting_mode":"list","block":{"attributes":{"key":{"type":"string","description":"Label key to be added to nodes created from this template.","description_kind":"plain","required":true},"value":{"type":"string","description":"Label value to be added to nodes created from this template.","description_kind":"plain","required":true}},"description":"Custom label key/value to be added to nodes created from this template.","description_kind":"plain","deprecated":true},"max_items":1},"custom_taints":{"nesting_mode":"list","block":{"attributes":{"effect":{"type":"string","description":"Effect of a taint to be added to nodes created from this template. The effect must always be NoSchedule.","description_kind":"plain","optional":true},"key":{"type":"string","description":"Key of a taint to be added to nodes created from this template.","description_kind":"plain","required":true},"value":{"type":"string","description":"Value of a taint to be added to nodes created from this template.","description_kind":"plain","required":true}},"description":"Custom taints to be added to the nodes created from this template. `shouldTaint` has to be `true` in order to create/update the node template with custom taints. If `shouldTaint` is `true`, but no custom taints are provided, the nodes will be tainted with the default node template taint.","description_kind":"plain"}},"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"read":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"CAST AI node template resource to manage node templates","description_kind":"plain"}},"castai_rebalancing_job":{"version":0,"block":{"attributes":{"cluster_id":{"type":"string","description":"CAST AI cluster id.","description_kind":"plain","required":true},"enabled":{"type":"bool","description":"The job will only be executed if it's enabled.","description_kind":"plain","optional":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"rebalancing_schedule_id":{"type":"string","description":"Rebalancing schedule of this job.","description_kind":"plain","required":true}},"block_types":{"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"read":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}}},"description":"Job assigns a rebalancing schedule to a cluster.","description_kind":"plain"}},"castai_rebalancing_schedule":{"version":0,"block":{"attributes":{"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"name":{"type":"string","description":"Name of the schedule.","description_kind":"plain","required":true}},"block_types":{"launch_configuration":{"nesting_mode":"list","block":{"attributes":{"keep_drain_timeout_nodes":{"type":"bool","description":"Defines whether the nodes that failed to get drained until a predefined timeout, will be kept with a rebalancing.cast.ai/status=drain-failed annotation instead of forcefully drained.","description_kind":"plain","optional":true},"node_ttl_seconds":{"type":"number","description":"Specifies amount of time since node creation before the node is allowed to be considered for automated rebalancing.","description_kind":"plain","optional":true},"num_targeted_nodes":{"type":"number","description":"Maximum number of nodes that will be selected for rebalancing.","description_kind":"plain","optional":true},"rebalancing_min_nodes":{"type":"number","description":"Minimum number of nodes that should be kept in the cluster after rebalancing.","description_kind":"plain","optional":true},"selector":{"type":"string","description":"Node selector in JSON format.","description_kind":"plain","optional":true}},"block_types":{"execution_conditions":{"nesting_mode":"list","block":{"attributes":{"achieved_savings_percentage":{"type":"number","description":"The percentage of the predicted savings that must be achieved in order to fully execute the plan.If the savings are not achieved after creating the new nodes, the plan will fail and delete the created nodes.","description_kind":"plain","optional":true},"enabled":{"type":"bool","description":"Enables or disables the execution conditions.","description_kind":"plain","required":true}},"description_kind":"plain"},"max_items":1}},"description_kind":"plain"},"min_items":1,"max_items":1},"schedule":{"nesting_mode":"list","block":{"attributes":{"cron":{"type":"string","description":"Cron expression defining when the schedule should trigger.","description_kind":"plain","required":true}},"description_kind":"plain"},"min_items":1,"max_items":1},"timeouts":{"nesting_mode":"single","block":{"attributes":{"create":{"type":"string","description_kind":"plain","optional":true},"delete":{"type":"string","description_kind":"plain","optional":true},"read":{"type":"string","description_kind":"plain","optional":true},"update":{"type":"string","description_kind":"plain","optional":true}},"description_kind":"plain"}},"trigger_conditions":{"nesting_mode":"list","block":{"attributes":{"savings_percentage":{"type":"number","description":"Defines the minimum percentage of savings expected.","description_kind":"plain","required":true}},"description_kind":"plain"},"min_items":1,"max_items":1}},"description":"CAST AI rebalancing schedule resource to manage rebalancing schedules.","description_kind":"plain"}}},"data_source_schemas":{"castai_eks_settings":{"version":0,"block":{"attributes":{"account_id":{"type":"string","description_kind":"plain","required":true},"cluster":{"type":"string","description_kind":"plain","required":true},"iam_managed_policies":{"type":["set","string"],"description_kind":"plain","computed":true},"iam_policy_json":{"type":"string","description_kind":"plain","computed":true},"iam_user_policy_json":{"type":"string","description_kind":"plain","computed":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"region":{"type":"string","description_kind":"plain","required":true},"vpc":{"type":"string","description_kind":"plain","required":true}},"description":"Retrieve IAM policy, IAM User Policy and instance profile policies for the specified cluster","description_kind":"plain"}},"castai_eks_user_arn":{"version":0,"block":{"attributes":{"arn":{"type":"string","description_kind":"plain","computed":true},"cluster_id":{"type":"string","description_kind":"plain","required":true},"id":{"type":"string","description_kind":"plain","optional":true,"computed":true}},"description_kind":"plain","deprecated":true}},"castai_gke_user_policies":{"version":0,"block":{"attributes":{"id":{"type":"string","description_kind":"plain","optional":true,"computed":true},"policy":{"type":["list","string"],"description_kind":"plain","computed":true}},"description_kind":"plain"}}}}}}
